(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(29),r=n.n(s),c=(n(56),n(57),n(12)),o=n(13),i=n(15),l=n(14),u=n(6),v=n(2),p=(n(33),n(37),n(25)),j=n(0),m=function(e){var t=[];return Object(j.jsxs)("div",{className:"genres",children:[function(n){for(var a in n.genre_ids){var s,r=Object(p.a)(e.allGenres);try{for(r.s();!(s=r.n()).done;){var c=s.value;n.genre_ids[a]===c.id&&t.push(c.name)}}catch(o){r.e(o)}finally{r.f()}}}(e.movie),t.map((function(e){return Object(j.jsx)("span",{className:"genre",children:e},e.id)}))]})},h=n(20),d=(n(63),n(5)),b=n.n(d),O=n(16),f=n(51),g=n(3),M="SET_SAVE_MOVIES",x="REMOVE_SAVE_MOVIE",S={saveMovies:[]},y=function(e){return{type:M,payload:e}},k=function(e){return{type:x,movie:e}},N=function(){return function(){var e=Object(O.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=b.a.keys(localStorage);case 1:if((e.t1=e.t0()).done){e.next=9;break}if(n=e.t1.value,localStorage.hasOwnProperty(n)){e.next=5;break}return e.abrupt("continue",1);case 5:a=localStorage.getItem(n),t(y(JSON.parse(a))),e.next=1;break;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:return Object(g.a)(Object(g.a)({},e),{},{saveMovies:[].concat(Object(f.a)(e.saveMovies.filter((function(e){return e.id!==t.payload.id}))),[t.payload])});case x:return Object(g.a)(Object(g.a)({},e),{},{saveMovies:e.saveMovies.filter((function(e){return e.id!==t.movie.id}))});default:return e}},E=n.p+"static/media/save.9650c8f9.png",P=n.p+"static/media/remov.b1f7c915.png",C=Object(u.b)((function(e){return{saveMovies:e.likeMovies.saveMovies,movies:e.popularMovies.movies,film:e.movieOne.movie}}),{setSaveMovies:y,removeSaveMovie:k})((function(e){var t=Object(a.useState)(!1),n=Object(h.a)(t,2),s=n[0],r=n[1],c=function(e){r(e)};Object(a.useEffect)((function(){if(console.log(e.saveMovies),e.saveMovies!==[]){var t,n=Object(p.a)(e.saveMovies);try{for(n.s();!(t=n.n()).done;){if(t.value.id===e.movie.id){c(!0),console.log(s);break}c(!1),console.log(s)}}catch(a){n.e(a)}finally{n.f()}}}),[e.movies]),Object(a.useEffect)((function(){var t,n=Object(p.a)(e.saveMovies);try{for(n.s();!(t=n.n()).done;){if(t.value.id===e.film.id){r(!0);break}r(!1)}}catch(a){n.e(a)}finally{n.f()}}),[e.film]);return Object(j.jsx)("div",{children:Object(j.jsxs)("p",{children:[" ",e.showButton?s?Object(j.jsx)("img",{className:"save",alt:"",src:E,onClick:function(){return r(!1),e.removeSaveMovie(e.movie),void localStorage.removeItem(e.movie.id)}}):Object(j.jsx)("img",{className:"save",src:P,alt:"",onClick:function(){return function(){r(!0),e.setSaveMovies(e.movie);var t=JSON.stringify(e.movie);localStorage.setItem(e.movie.id,t)}()}}):null]})})})),T=function(e){return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"allFilm",children:e.movies.map((function(t){return Object(j.jsxs)("div",{className:"fontFilm",children:[null==t.backdrop_path?Object(j.jsx)("img",{className:"film",alt:"",src:"https://i.stack.imgur.com/y9DpT.jpg",onClick:function(){return e.openFilm(t.id)}}):Object(j.jsx)("img",{className:"film",alt:"",src:"https://image.tmdb.org/t/p/original".concat(t.poster_path),onClick:function(){return e.openFilm(t.id)}}),Object(j.jsx)("p",{className:"title",children:t.original_title}),Object(j.jsx)("div",{children:Object(j.jsx)(m,{movie:t,allGenres:e.allGenres})}),Object(j.jsx)("div",{className:"buttonSave",children:Object(j.jsx)(C,{movie:t,showButton:!0})})]},t.id)}))})})},w=(n(65),Object(u.b)((function(e){return{totalResults:e.popularMovies.totalResults}}),null)(Object(v.f)((function(e){for(var t=[],n=1;n<=e.totalResults;n++)t.push(n);var s=Math.ceil(e.totalResults/10),r=Object(a.useState)(1),c=Object(h.a)(r,2),o=c[0],i=c[1],l=10*(o-1)+1,u=10*o;return Object(j.jsxs)("div",{className:"padding",children:[o>1&&Object(j.jsx)("button",{className:"back page",onClick:function(){i(o-1)},children:"Prev"}),t.filter((function(e){return e>=l&&e<=u})).map((function(t){return Object(j.jsxs)("span",{className:e.currentPage===t?"current-number page":"page",onClick:function(){e.onPageChange(t)},children:[" ",t]},t)})),s>o&&Object(j.jsx)("button",{className:"next page",onClick:function(){i(o+1)},children:" NEXT"})]})})))),G=Object(v.f)((function(e){return Object(a.useEffect)((function(){return function(){e.clearSearchMovies()}}),[e.match.path]),Object(j.jsx)("div",{className:"popular",children:e.movies&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{children:Object(j.jsx)(T,{setSaveMovies:e.setSaveMovies,movies:e.movies,openFilm:e.openFilm,allGenres:e.allGenres,saveMovies:e.saveMovies})}),Object(j.jsx)("div",{children:Object(j.jsx)(w,{onPageChange:e.onPageChange,currentPage:e.currentPage})})]})})})),F=Object(v.f)((function(e){return Object(j.jsxs)("div",{className:"popular",children:[Object(j.jsx)("div",{children:Object(j.jsx)(T,{setSaveMovies:e.setSaveMovies,movies:e.movies,openFilm:e.openFilm,allGenres:e.allGenres,saveMovies:e.saveMovies})}),Object(j.jsx)("div",{children:Object(j.jsx)(w,{onPageChange:e.onPageChange,currentPage:e.currentPage})})]})})),I=n(22),R=n.n(I),L="https://api.themoviedb.org/3/",A="?api_key=3dc50b2d5f561b313e8133997a870eaf",V="&language=en-US",D=function(e){return R.a.get("".concat(L,"movie/popular").concat(A,"&page=").concat(e))},B=function(e,t){return R.a.get("".concat(L,"search/movie").concat(A).concat(V,"&query=").concat(e,"&page=").concat(t,"&include_adult=false"))},U=function(e){return R.a.get("".concat(L,"movie/").concat(e).concat(A).concat(V))},J=function(e){return R.a.get("".concat(L,"movie/").concat(e,"/recommendations").concat(A).concat(V,"&page=1"))},q="SET_POPULAR_MOVIES",H="SET_GENRES_MOVIES",W="SET_SEARCH_MOVIES",X="SET_CURRENT_PAGE",$="SET_TOTAL_RESULT",z="SET_VALUE",K="CLEAR_SEARCH_MOVIES",Q={movies:[],moviesSearch:[],allGenres:[],totalResults:null,currentPage:1,value:""},Y=function(e){return{type:W,payload:e}},Z=function(e,t){return function(){var n=Object(O.a)(b.a.mark((function n(a){var s;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B(e,t);case 2:s=n.sent,a({type:z,payload:e}),a(Y(s.data));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(g.a)(Object(g.a)({},e),{},{movies:t.movies});case $:return Object(g.a)(Object(g.a)({},e),{},{totalResults:t.payload});case H:return Object(g.a)(Object(g.a)({},e),{},{allGenres:t.payload});case X:return Object(g.a)(Object(g.a)({},e),{},{currentPage:t.page});case K:return Object(g.a)(Object(g.a)({},e),{},{moviesSearch:[]});case z:return Object(g.a)(Object(g.a)({},e),{},{value:t.payload});case W:return Object(g.a)(Object(g.a)({},e),{},{moviesSearch:t.payload.results,totalResults:t.payload.total_pages});default:return e}},te="SET_MOVIE",ne="SET_RECOMMENDATIONS_MOVIES",ae="CLEAR_MOVIE",se={movie:[],recommendations:[]},re=function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U(e);case 2:a=t.sent,n((s=a.data,{type:te,movie:s}));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},ce=function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J(e);case 2:a=t.sent,n((s=a.data.results,{type:ne,payload:s}));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return Object(g.a)(Object(g.a)({},e),{},{movie:t.movie});case ne:return Object(g.a)(Object(g.a)({},e),{},{recommendations:t.payload});case ae:return Object(g.a)(Object(g.a)({},e),{},{movie:[]});default:return e}},ie=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={current:1},e.onPageChange=function(t){e.setState({current:t}),e.props.getPopularMovies(t)},e.onPageSearchMovies=function(t){e.setState({current:t}),e.props.setCurrentPage(e.state.current),e.props.getSearchMovies(e.props.value,t),e.props.history.push("/search")},e.openFilm=function(t){e.props.getMovieIdThunk(t),e.props.getRecommendationsMoviesThunk(t),e.props.history.push("/movie/".concat(t))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){console.log("compon"),this.props.getMovieLocalStorage(),this.props.getPopularMovies(this.state.current),this.props.getGenresMovies(),this.props.clearMovie(),this.props.history.push("/"),this.props.clearSearchMovies()}},{key:"componentDidUpdate",value:function(e,t){0===this.props.movies.length&&this.props.getPopularMovies(this.state.current),"/"===this.props.match.path&&this.state.current!==t.current&&this.props.getPopularMovies(this.state.current)}},{key:"componentWillUnmount",value:function(){this.setState({current:1})}},{key:"render",value:function(){var e=this.props,t=e.movies,n=e.moviesSearch;return Object(j.jsx)("div",{className:"popular",children:Object(j.jsx)("div",{className:"cardMovie",children:0===n.length?Object(j.jsx)(F,{openFilm:this.openFilm,setSaveMovies:this.props.setSaveMovies,saveMovies:this.props.saveMovies,movies:t,onPageChange:this.onPageChange,currentPage:this.state.current,allGenres:this.props.allGenres,clearMovies:this.props.clearMovies}):Object(j.jsx)(G,{movies:n,openFilm:this.openFilm,setSaveMovies:this.props.setSaveMovies,saveMovies:this.props.saveMovies,currentPage:this.state.current,onPageChange:this.onPageSearchMovies,allGenres:this.props.allGenres,clearSearchMovies:this.props.clearSearchMovies,getMovieLocalStorage:this.props.getMovieLocalStorage})})})}}]),n}(a.Component),le=Object(u.b)((function(e){return{movies:e.popularMovies.movies,allGenres:e.popularMovies.allGenres,currentPage:e.popularMovies.currentPage,saveMovies:e.likeMovies.saveMovies,moviesSearch:e.popularMovies.moviesSearch,value:e.popularMovies.value}}),{getPopularMovies:function(e){return function(){var t=Object(O.a)(b.a.mark((function t(n){var a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:a=t.sent,n((r=a.data.total_pages,{type:$,payload:r})),n((s=a.data.results,{type:q,movies:s}));case 5:case"end":return t.stop()}var s,r}),t)})));return function(e){return t.apply(this,arguments)}}()},getGenresMovies:function(){return function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get("".concat(L,"genre/movie/list").concat(A).concat(V));case 2:n=e.sent,t((a=n.data.genres,{type:H,payload:a}));case 4:case"end":return e.stop()}var a}),e)})));return function(t){return e.apply(this,arguments)}}()},getSearchMovies:Z,getMovieIdThunk:re,getRecommendationsMoviesThunk:ce,clearMovie:function(){return{type:ae}},setSaveMovies:y,setCurrentPage:function(e){return{type:X,page:e}},getMovieLocalStorage:N,clearSearchMovies:function(e){return{type:K,payload:e}},setSearchMovies:Y})(Object(v.f)(ie)),ue=(n(46),n.p+"static/media/clouse.9421c7db.png"),ve=function(e){return Object(j.jsx)("div",{className:"savePage",children:e.saveMovies.map((function(t){return Object(j.jsxs)("div",{className:"movie_card",children:[Object(j.jsx)("div",{className:"info_section",children:Object(j.jsxs)("div",{className:"aaa",children:[Object(j.jsx)("img",{className:"image",alt:"",src:"https://image.tmdb.org/t/p/original".concat(t.poster_path),onClick:function(){return e.openFilm(t.id)}}),Object(j.jsxs)("div",{className:"text",children:[Object(j.jsx)("h2",{className:"nameMovie",children:t.original_title}),Object(j.jsx)("img",{className:"removeMovie",src:ue,alt:"",onClick:function(){return e.removeSaveMovie(t)}}),"               "]})]})}),Object(j.jsx)("img",{alt:"",className:"blur_back bright_back",src:"https://image.tmdb.org/t/p/original".concat(t.backdrop_path)})]})}))})},pe=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).openFilm=function(t){e.props.getMovieIdThunk(t),e.props.getRecommendationsMoviesThunk(t),e.props.history.push("/movie/".concat(t))},e.removeSaveMovie=function(t){e.props.removeSaveMovie(t),localStorage.removeItem(t.id)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getMovieLocalStorage()}},{key:"render",value:function(){return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"pageSaveMovies",children:Object(j.jsx)(ve,{saveMovies:this.props.saveMovies,allGenres:this.props.allGenres,openFilm:this.openFilm,removeSaveMovie:this.removeSaveMovie})})})}}]),n}(a.Component),je=Object(u.b)((function(e){return{saveMovies:e.likeMovies.saveMovies,allGenres:e.popularMovies.allGenres,recommendations:e.movieOne.recommendations}}),{getMovieIdThunk:re,removeSaveMovie:k,getRecommendationsMoviesThunk:ce,getMovieLocalStorage:N})(Object(v.f)(pe)),me=(n(85),function(e){var t=e.movie;return Object(j.jsxs)("div",{className:"movieDetails",children:[Object(j.jsx)("div",{className:"viewFilm",children:Object(j.jsx)("img",{className:"filmm",alt:"",src:"https://image.tmdb.org/t/p/original".concat(t.poster_path)})}),Object(j.jsxs)("div",{className:"qwe",children:[Object(j.jsx)("h2",{className:"title",children:t.original_title}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Genres:"})," ",t.genres&&t.genres.map((function(e){return Object(j.jsxs)("span",{children:[e.name," "]},e.id)}))]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Release date:"})," ",t.release_date]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Vote average:"})," ",t.vote_average]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Budget:"})," ",t.budget,"$"]}),Object(j.jsxs)("p",{children:[Object(j.jsx)("b",{children:"Overview:"})," ",t.overview]})]}),Object(j.jsx)(C,{movie:t,showButton:!0})]})}),he=(n(86),n(49)),de=n.n(he),be=(n(102),n(103),function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"recomendationScoll",children:[Object(j.jsx)("h1",{children:"Similar movies"}),Object(j.jsx)(de.a,Object(g.a)(Object(g.a)({},{dots:!0,infinite:!0,speed:900,slidesToShow:3,slidesToScroll:3}),{},{children:this.props.recommendations.map((function(t){return Object(j.jsx)("div",{children:null==t.poster_path?Object(j.jsx)("img",{className:"recommendatioms",src:"https://i.stack.imgur.com/y9DpT.jpg"}):Object(j.jsx)("img",{className:"recommendatioms",src:"https://image.tmdb.org/t/p/original".concat(t.poster_path),onClick:function(){return e.props.openFilm(t.id)}})},t.id)}))}))]})}}]),n}(a.Component)),Oe=Object(v.f)(be),fe=(n(104),function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).openFilm=function(t){e.props.getMovieIdThunk(t),e.props.getRecommendationsMoviesThunk(t),e.props.history.push("/movie/".concat(t))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getMovieIdThunk(this.props.itemId),this.props.getRecommendationsMoviesThunk(this.props.itemId),this.props.getMovieLocalStorage()}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"www",children:[Object(j.jsx)(me,{movie:this.props.movie,allGenres:this.props.allGenres}),Object(j.jsx)(Oe,{recommendations:this.props.recommendations,openFilm:this.openFilm})]})}}]),n}(a.Component)),ge=Object(u.b)((function(e){return{movie:e.movieOne.movie,recommendations:e.movieOne.recommendations,allGenres:e.popularMovies.allGenres}}),{getMovieIdThunk:re,getRecommendationsMoviesThunk:ce,getMovieLocalStorage:N})(Object(v.f)(fe)),Me=n(19),xe=(n(105),n(106),Object(u.b)(null,{getSearchMovies:Z})(Object(v.f)((function(e){var t=Object(a.useState)(""),n=Object(h.a)(t,2),s=n[0],r=n[1];return Object(j.jsxs)("div",{className:"search",children:[Object(j.jsx)("input",{type:"text",className:"input",value:s,onChange:function(e){return r(e.target.value)},placeholder:"Search"}),Object(j.jsx)("button",{className:"buttonSearch",onClick:function(){e.getSearchMovies(s),r(""),e.history.push("/search")},children:" Search "})]})})))),Se=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(j.jsxs)("nav",{className:"header",children:[Object(j.jsxs)("div",{className:"menuButton",children:[Object(j.jsx)(Me.b,{to:"/",className:"button",children:" Popular Movies "}),Object(j.jsx)(Me.b,{to:"/saveMovies",children:" Save Movies"})]}),Object(j.jsx)(xe,{})]})}}]),n}(a.Component);var ye=Object(v.f)((function(){return Object(j.jsxs)("div",{className:"sayt",children:[Object(j.jsx)(Se,{}),Object(j.jsxs)(v.c,{children:[Object(j.jsx)(v.a,{exact:!0,path:"/",render:function(){return Object(j.jsx)(le,{})}}),Object(j.jsx)(v.a,{path:"/saveMovies",component:je}),Object(j.jsx)(v.a,{path:"/search/:id?",render:function(){return Object(j.jsx)(le,{})}}),Object(j.jsx)(v.a,{path:"/movie/:id?",render:function(e){var t=e.match.params.id;return Object(j.jsx)(ge,{itemId:t})}})]})]})})),ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,108)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))},Ne=n(21),_e=n(50),Ee=Object(Ne.c)({popularMovies:ee,movieOne:oe,likeMovies:_}),Pe=Object(Ne.d)(Ee,Object(Ne.a)(_e.a));r.a.render(Object(j.jsx)(Me.a,{children:Object(j.jsx)(u.a,{store:Pe,children:Object(j.jsx)(ye,{})})}),document.getElementById("root")),ke()},33:function(e,t,n){},37:function(e,t,n){},46:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.c2750f3a.chunk.js.map